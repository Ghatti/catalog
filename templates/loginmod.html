<html>
        <head>
                <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
                <script src="https://apis.google.com/js/client:platform.js?onload=start" async defer></script>
            </head>
            <body>
                    <div id="signinButton"></div>
                    <div id="result"></div>

                    
                    <script>

                        $(function () {
                        	var content = '';
                        	content += '<span class="g-signin"';
                        	content += 'data-scope="openid email"';
                        	content += 'data-clientid="503094252642-9sjga5hc32c4iiau869inpbcr1s9u043.apps.googleusercontent.com"';
                        	content += 'data-redirecturi="postmessage"';
                        	content += 'data-accesstype="offline"';
                        	content += 'data-cookiepolicy="single_host_origin"';
                        	content += 'data-callback="signInCallback"';
                        	content += 'data-approvalprompt="force">'; // Disable data-approval-prompt in production
                        	content += '</span>';
                        	$('#signinButton').html(content);
                        });

                            function signInCallback(authResult){
                                console.log("here")
                                
                                /*if (authResult['code']){
                                    
                                    $.ajax({
                                        type: "POST",
                                        url: "/gconnect?state={{STATE}}",
                                        processData: false,
                                        contentType: "application/octet-stream; charset=utf-8",
                                        data: authResult["code"],
                                        success: function(result) {
                                            // Handle or verify the server response if necessary.
                                            if (result) {
                                              $('#result').html('Login Successful!</br>'+ result + '</br>Redirecting...')
                                             setTimeout(function() {
                                              window.location.href = "/catalog";
                                             }, 4000);
                      
                                            } else if (authResult['error']) {
                                                console.log('There was an error: ' + authResult['error']);
                                            } else {
                                                $('#result').html('Failed to make a server-side call. Check your configuration and console.');
                                            }
                                        }
                                    })
                                }*/
                            } 
                        </script>
            </body>
</html>